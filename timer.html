<style>
* {
  margin: 0;
  padding: 0;
  font-family: "Arimo", sans-serif;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}


/*=================
* TIMER
*=================*/
.timer {
  width: 450px;
  height: 200px;
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-left: -275px;
  margin-top: -124px;
  color: red;
}
.timer * {
  cursor: default;
}
.timer h3 {
  width: 100%;
  font-size: 20px;
  letter-spacing: 3px;
  text-align: center;
}
.timer--clock {
  width: 100%;
  position: relative;
  padding-left: 6px;
  margin-top: 22px;
  overflow: hidden;
}
.timer--clock .clock-display-grp {
  width: 100%;
  position: relative;
}
.timer--clock .clock-display-grp .number-grp {
  width: auto;
  display: block;
  height: 156px;
  float: left;
  overflow: hidden;
}
.timer--clock .clock-display-grp .number-grp .number-grp-wrp {
  width: 100%;
  position: relative;
}
.timer--clock .clock-display-grp .number-grp .number-grp-wrp .num {
  width: 100%;
  position: relative;
  height: 156px;
}
.timer--clock .clock-display-grp .number-grp .number-grp-wrp .num p {
  width: auto;
  display: table;
  font-size: 100px;
  line-height: 150px;
  font-weight: bold;
}
.timer--clock .clock-separator {
  width: auto;
  float: left;
  display: block;
  height: 156px;
}
.timer--clock .clock-separator p {
  width: auto;
  display: table;
  font-size: 100px;
  line-height: 150px;
  font-weight: bold;
}
.timer h4 {
  width: 100%;
  font-size: 10px;
  letter-spacing: 6px;
  text-align: center;
  padding-top: 25px;
  float: left;
}

.reload {
  width: 125px;
  height: 14px;
  position: absolute;
  bottom: 50vh;
  left: 50%;
  margin-left: -62.5px;
  opacity: 0;
  display: none;
  cursor: pointer;
  z-index: 9999;
}
.reload:hover svg path {
  fill: #666666;
}
.reload:hover p {
  color: #666666;
}
.reload svg {
  width: 12px;
  height: 12px;
  float: left;
  margin-right: 10px;
}
.reload p {
  color: #2b2b2b;
  font-size: 12px;
  float: left;
  line-height: 11px;
}
.countdown-p {
  color:red;
  font-size:20px;
}
</style>

<script>
  window.console = window.console || function(t) {};
</script>


<div class="timer">
   <div class="timer--clock">
      <div class="minutes-group clock-display-grp">
         <div class="first number-grp">
            <div class="number-grp-wrp">
               <div class="num num-0"><p class="countdown-p">0</p></div>
               <div class="num num-1"><p class="countdown-p">1</p></div>
               <div class="num num-2"><p class="countdown-p">2</p></div>
               <div class="num num-3"><p class="countdown-p">3</p></div>
               <div class="num num-4"><p class="countdown-p">4</p></div>
               <div class="num num-5"><p class="countdown-p">5</p></div>
               <div class="num num-6"><p class="countdown-p">6</p></div>
               <div class="num num-7"><p class="countdown-p">7</p></div>
               <div class="num num-8"><p class="countdown-p">8</p></div>
               <div class="num num-9"><p class="countdown-p">9</p></div>
            </div>
         </div>
         <div class="second number-grp">
            <div class="number-grp-wrp">
               <div class="num num-0"><p class="countdown-p">0</p></div>
               <div class="num num-1"><p class="countdown-p">1</p></div>
               <div class="num num-2"><p class="countdown-p">2</p></div>
               <div class="num num-3"><p class="countdown-p">3</p></div>
               <div class="num num-4"><p class="countdown-p">4</p></div>
               <div class="num num-5"><p class="countdown-p">5</p></div>
               <div class="num num-6"><p class="countdown-p">6</p></div>
               <div class="num num-7"><p class="countdown-p">7</p></div>
               <div class="num num-8"><p class="countdown-p">8</p></div>
               <div class="num num-9"><p class="countdown-p">9</p></div>
            </div>
         </div>
      </div>
      <div class="clock-separator"><p class="countdown-p">:</p></div>
      <div class="seconds-group clock-display-grp">
         <div class="first number-grp">
            <div class="number-grp-wrp">
               <div class="num num-0"><p class="countdown-p">0</p></div>
               <div class="num num-1"><p class="countdown-p">1</p></div>
               <div class="num num-2"><p class="countdown-p">2</p></div>
               <div class="num num-3"><p class="countdown-p">3</p></div>
               <div class="num num-4"><p class="countdown-p">4</p></div>
               <div class="num num-5"><p class="countdown-p">5</p></div>
               <div class="num num-6"><p class="countdown-p">6</p></div>
               <div class="num num-7"><p class="countdown-p">7</p></div>
               <div class="num num-8"><p class="countdown-p">8</p></div>
               <div class="num num-9"><p class="countdown-p">9</p></div>
            </div>
         </div>
         <div class="second number-grp">
            <div class="number-grp-wrp">
               <div class="num num-0"><p class="countdown-p">0</p></div>
               <div class="num num-1"><p class="countdown-p">1</p></div>
               <div class="num num-2"><p class="countdown-p">2</p></div>
               <div class="num num-3"><p class="countdown-p">3</p></div>
               <div class="num num-4"><p class="countdown-p">4</p></div>
               <div class="num num-5"><p class="countdown-p">5</p></div>
               <div class="num num-6"><p class="countdown-p">6</p></div>
               <div class="num num-7"><p class="countdown-p">7</p></div>
               <div class="num num-8"><p class="countdown-p">8</p></div>
               <div class="num num-9"><p class="countdown-p">9</p></div>
            </div>
         </div>
      </div>
   </div>
   <form action="login/nextpage" class="form-horizontal" method="post" autocomplete="off">
    <div class="form-group row">
      <div class="col-sm-5">
        <input type="text" class="form-control" id="verifycode" name="verifycode" placeholder="請輸入驗證碼">
      </div>
    </div>

    <div class="form-group row">
      <div class="col-sm-2">
        <input type="submit" class="btn btn-primary" id="verifycodesubmit" value="Verify">
      </div>
      <div class="col-sm-2">&nbsp;</div>
      <div class="col-sm-2">
        <a href="login/resendverify" class="btn btn-secondary" target="_blank">重寄驗證碼</a>
      </div>
      <div class="col-sm-2">&nbsp;</div>
      <div class="col-sm-2">
        <a href="login/index" class="btn btn-secondary">重新登入</a>
      </div>
    </div>
    </form>
</div>
<div class="reload">
   <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 65 65" enable-background="new 0 0 65 65" xml:space="preserve">
      <path fill="#2b2b2b" d="M60.2,2.5c-2.3-0.2-4.4,1.5-4.6,3.9l-0.2,2.3c-6-5.6-13.8-8.7-22-8.7C15.5,0,0.9,14.5,0.9,32.4c0,17.9,14.5,32.4,32.4,32.4
         c12.3,0,23.5-6.9,29-17.9c1.1-2.1,0.2-4.7-1.9-5.7c-2.1-1.1-4.7-0.2-5.7,1.9c-4.1,8.1-12.3,13.2-21.4,13.2
         c-13.2,0-23.9-10.7-23.9-23.9c0-13.2,10.7-23.9,23.9-23.9c6.1,0,11.9,2.3,16.4,6.5l-3.4-0.3c-2.3-0.2-4.4,1.5-4.6,3.9
         c-0.2,2.3,1.5,4.4,3.9,4.6l12.7,1.1c0.1,0,0.3,0,0.4,0c1,0,2-0.3,2.7-1c0.9-0.7,1.4-1.8,1.5-2.9l1.2-13.4
         C64.3,4.7,62.5,2.7,60.2,2.5z"/>
    </svg>
</div>
  <script src='//cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js'></script>
      <script id="rendered-js" >
TweenLite.defaultEase = Expo.easeOut;

initTimer("{{verifycodesetting}}:00"); // verifycodesetting is the minutes you want to countdown, e.g. 10. other ways --> "0:15" "03:5" "5:2"

var reloadBtn = document.querySelector('.reload');
var timerEl = document.querySelector('.timer');

function initTimer(t) {

  var self = this,
  timerEl = document.querySelector('.timer'),
  minutesGroupEl = timerEl.querySelector('.minutes-group'),
  secondsGroupEl = timerEl.querySelector('.seconds-group'),

  minutesGroup = {
    firstNum: minutesGroupEl.querySelector('.first'),
    secondNum: minutesGroupEl.querySelector('.second') },


  secondsGroup = {
    firstNum: secondsGroupEl.querySelector('.first'),
    secondNum: secondsGroupEl.querySelector('.second') };


  var time = {
    min: t.split(':')[0],
    sec: t.split(':')[1] };


  var timeNumbers;

  function calculateTotalSecondsToDateTime(targetDateTime) {
    const currentDateTime = new Date();

    const targetDate = new Date(targetDateTime);

    const millisecondsDifference = currentDateTime - targetDate;
    const totalSecondsDifference = Math.floor(millisecondsDifference / 1000);

    return totalSecondsDifference;
  }

  function updateTimer() {
    var totalTimeFromStart = calculateTotalSecondsToDateTime("{{starttime}}"); // starttime is the verifycode generated timestamp
    var secondsLeft = 60 * {{ verifycodesetting }} - totalTimeFromStart; //verifycodesetting is the total minutes

    if (secondsLeft <= 0) {
      countdownFinished();
      return;
    }

    var mins = Math.floor(secondsLeft/60);
    var secs = secondsLeft % 60;

    var timeNumbers = [Math.floor(mins/10), mins % 10, Math.floor(secs/10), secs % 10];

    updateTimerDisplay(timeNumbers);

    if (secondsLeft > 0)
      setTimeout(updateTimer, 1000);

  }

  function updateTimerDisplay(arr) {

    animateNum(minutesGroup.firstNum, arr[0]);
    animateNum(minutesGroup.secondNum, arr[1]);
    animateNum(secondsGroup.firstNum, arr[2]);
    animateNum(secondsGroup.secondNum, arr[3]);

  }

  function animateNum(group, arrayValue) {

    TweenMax.killTweensOf(group.querySelector('.number-grp-wrp'));
    TweenMax.to(group.querySelector('.number-grp-wrp'), 1, {
      y: -group.querySelector('.num-' + arrayValue).offsetTop });


  }

  setTimeout(updateTimer, 1000);

}

function countdownFinished() {
  setTimeout(function () {
    //TweenMax.set(reloadBtn, { scale: 0.8, display: 'block' });
    TweenMax.to(timerEl, 1, { opacity: 0.2 });
    //TweenMax.to(reloadBtn, 0.5, { scale: 1, opacity: 1 });
  }, 1000);
}

/*
reloadBtn.addEventListener('click', function () {
  TweenMax.to(this, 0.5, { opacity: 0, onComplete:
    function () {
      reloadBtn.style.display = "none";
    } });

  TweenMax.to(timerEl, 1, { opacity: 1 });
  initTimer("12:35");
});
*/
</script>
